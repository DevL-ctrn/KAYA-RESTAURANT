<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gestão do Menu da Padaria</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
<style>
  body {
    font-family: 'Inter', sans-serif;
    background: #f5f7fb;
    margin: 0; padding: 20px;
    background-size: cover;
  }
  .container {
    max-width: 900px;
    margin: 30px auto;
    background: #fff;
    padding: 25px 30px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgb(0 0 0 / 0.1);
  }
  h1 {
    text-align: center;
    margin-bottom: 30px;
    color: #222;
  }
  .product-list {
    width: 100%;
    border-collapse: collapse;
  }
  .product-list th, .product-list td {
    border: 1px solid #ddd;
    padding: 12px 10px;
    text-align: left;
  }
  .product-list th {
    background-color: #d43f20;
    color: white;
  }
  input[type="text"], input[type="number"], select {
    width: 100%;
    padding: 6px 8px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 14px;
  }
  button {
    background-color: #d43f20;
    border: none;
    color: white;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #4f46e5;
  }
  .btn-remove {
    background-color: #e53e3e;
  }
  .btn-remove:hover {
    background-color: #c53030;
  }
  .add-product-form {
    margin-top: 30px;
    padding-top: 15px;
    border-top: 2px solid #ddd;
  }
  .add-product-form h2 {
    margin-bottom: 15px;
  }
  .form-row {
    margin-bottom: 12px;
  }
  .form-row label {
    display: block;
    font-weight: 600;
    margin-bottom: 6px;
  }
  .message {
    margin-top: 15px;
    padding: 12px;
    border-radius: 8px;
    font-weight: 600;
  }
  .message.success {
    background-color: #daf6da;
    color: #27632a;
  }
  .message.error {
    background-color: #f8d7da;
    color: #842029;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>Gestão do Menu do Restaurante</h1>
    <table class="product-list" id="productTable">
      <thead>
        <tr>
          <th>Imagem </th>
          <th>Nome do Produto</th>
          <th>Categoria</th>
          <th>Preço (MZN)</th>
          
        </tr>
      </thead>
      <tbody>
        <!-- Produtos vão aparecer aqui -->
      </tbody>
    </table>

    <div class="add-product-form">
      <h2>Adicionar Novo Produto</h2>
      <div class="form-row">
        <label for="newImage">URL da Imagem:</label>
        <input type="text" id="newImage" placeholder="https://exemplo.com/imagem.jpg" />
      </div>
      <div class="form-row">
        <label for="newName">Nome do Produto:</label>
        <input type="text" id="newName" placeholder="Ex: Pizza Mexicana" />
      </div>
      <div class="form-row">
        <label for="newType">Categoria:</label>
        <select id="newType">
          <option value="">Selecionar categoria</option>
          <option value="fresco">Pizzas</option>
          <option value="torrado">Bebidas</option>
          <option value="quente">Salgados</option>
        </select>
      </div>
      <div class="form-row">
        <label for="newPrice">Preço (MZN):</label>
        <input type="number" id="newPrice" min="0" step="0.01" placeholder="Ex: 325.00" />
      </div>
      <button id="addProductBtn">Adicionar Produto</button>
      <div id="message" class="message" style="display:none;"></div>
    </div>
  </div>

<script>
  const productTableBody = document.querySelector('#productTable tbody');
  const messageBox = document.getElementById('message');

 
  let produtos = [
    {
      imagem: 'https://i.imgur.com/3pP4IYV.jpg',
      nome: 'Pão Normal',
      tipo: 'fresco',
      preco: 15.00
    },
    {
      imagem: 'https://i.imgur.com/UCRwRHD.jpg',
      nome: 'Pão de Milho',
      tipo: 'torrado',
      preco: 18.00
    },
    {
      imagem: 'https://i.imgur.com/Ga3O19y.jpg',
      nome: 'Pão Integral',
      tipo: 'quente',
      preco: 20.00
    }
  ];

  // Função para renderizar produtos na tabela
  function renderProdutos() {
    productTableBody.innerHTML = '';
    produtos.forEach((produto, index) => {
      const tr = document.createElement('tr');

      tr.innerHTML = `
        <td><input type="text" value="${produto.imagem}" data-index="${index}" class="input-img" /></td>
        <td><input type="text" value="${produto.nome}" data-index="${index}" class="input-nome" /></td>
        <td>
          <select data-index="${index}" class="input-tipo">
            <option value="fresco" ${produto.tipo === 'fresco' ? 'selected' : ''}>Fresco</option>
            <option value="torrado" ${produto.tipo === 'torrado' ? 'selected' : ''}>Torrado</option>
            <option value="quente" ${produto.tipo === 'quente' ? 'selected' : ''}>Quente</option>
          </select>
        </td>
        <td><input type="number" min="0" step="0.01" value="${produto.preco.toFixed(2)}" data-index="${index}" class="input-preco" /></td>
        <td>
          <button class="btn-save" data-index="${index}">Salvar</button>
          <button class="btn-remove" data-index="${index}">Remover</button>
        </td>
      `;
      productTableBody.appendChild(tr);
    });
  }

  function atualizarProduto(index) {
    const imgInput = document.querySelector(.input-img[data-index='${index}']);
    const nomeInput = document.querySelector(.input-nome[data-index='${index}']);
    const tipoSelect = document.querySelector(.input-tipo[data-index='${index}']);
    const precoInput = document.querySelector(.input-preco[data-index='${index}']);

    if(!nomeInput.value.trim()) {
      mostrarMensagem('Nome do produto não pode ficar vazio.', 'error');
      return false;
    }
    if(!precoInput.value || precoInput.value <= 0) {
      mostrarMensagem('Preço deve ser maior que zero.', 'error');
      return false;
    }

    produtos[index] = {
      imagem: imgInput.value.trim(),
      nome: nomeInput.value.trim(),
      tipo: tipoSelect.value,
      preco: parseFloat(precoInput.value)
    };
    mostrarMensagem('Produto atualizado com sucesso!', 'success');
    return true;
  }

 
  function removerProduto(index) {
    produtos.splice(index, 1);
    renderProdutos();
    mostrarMensagem('Produto removido.', 'success');
  }


  function mostrarMensagem(texto, tipo) {
    messageBox.textContent = texto;
    messageBox.className = message ${tipo};
    messageBox.style.display = 'block';
    setTimeout(() => {
      messageBox.style.display = 'none';
    }, 3000);
  }

  
  productTableBody.addEventListener('click', e => {
    if (e.target.classList.contains('btn-save')) {
      const index = e.target.getAttribute('data-index');
      atualizarProduto(index);
    }
    if (e.target.classList.contains('btn-remove')) {
      const index = e.target.getAttribute('data-index');
      if(confirm('Tem certeza que deseja remover este produto?')) {
        removerProduto(index);
      }
    }
  });


  document.getElementById('addProductBtn').addEventListener('click', e => {
    e.preventDefault();
    const img = document.getElementById('newImage').value.trim();
    const nome = document.getElementById('newName').value.trim();
    const tipo = document.getElementById('newType').value;
    const preco = parseFloat(document.getElementById('newPrice').value);

    if(!nome) {
      mostrarMensagem('Preencha o nome do produto.', 'error');
      return;
    }
    if(!tipo) {
      mostrarMensagem('Selecione o tipo do produto.', 'error');
      return;
    }
    if(!preco || preco <= 0) {
      mostrarMensagem('Informe um preço válido.', 'error');
      return;
    }

    produtos.push({ imagem: img, nome, tipo, preco });
    renderProdutos();

  
    document.getElementById('newImage').value = '';
    document.getElementById('newName').value = '';
    document.getElementById('newType').value = '';
    document.getElementById('newPrice').value = '';

    mostrarMensagem('Produto adicionado com sucesso!', 'success');
  });

 
  renderProdutos();
</script>
</body>
</html>